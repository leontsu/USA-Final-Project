# USA-Final-Project
7月3日バージョン　https://lazyta-toru.net/USA-Final-Project/

### main.jsの流れ

1. ユーザーがWebページを開くと、`main.js` がGPSで現在位置を取得します 。
2. 現在位置が「湘南台」または「SFC」の範囲内であると判定された場合、`main.js` が `processcontrol.js` の中の対応する関数 (`ShonandaiFlow` または `SFCFlow`) を呼び出します 

### processcontrol.jsにある**`ShonandaiFlow` の具体的な処理の流れ**

以下の①〜④の処理を順番に実行します。

---

**① 天気情報の取得（担当：かめ ）**

- **`processcontrol.js`がすること:**
    - `api.js` の中に定義されている「天気取得用の関数」を呼び出します。
- `api.js` がすること
    - OpenWeatherMapなどのAPIから現在の天気情報を取得する関数を用意
    - その関数は、例えば `{ "weather": "Rain", "temperature": 20.5 }` のような**JSON形式**で天気データを返すように設計する。このデータ形式は、後続のGPT処理で使う

---

**② 過去データの取得（担当：Sean ）**

- **`processcontrol.js`がすること:**
    - `database.js` の中に定義されている「過去データ取得用の関数」を呼び出す
- `database.js` がすること：
    - 蓄積された過去の移動データ（曜日、天気、所要時間など）の中から、**現在の状況と似た条件のデータ**を検索して取得する関数を用意
    - この関数も、例えば `[ { "day": "Monday", "weather": "Rain", "duration": 25 }, ... ]` のような**JSON形式**で過去のデータを返すように設計する。

---

**③ GPTを利用した遅刻危険度の予測【担当：Leon】**

- **`processcontrol.js`がすること:**
    - ①で取得した**現在の天気情報**と、②で取得した**過去のデータ**、そしてユーザーが入力した**講義の時限**をひとまとめにする
    - これらのデータを引数として、`gpt.js` の「予測実行用の関数」を呼び出します。
- `gpt.js` がすること
    - 渡されたデータ（現在の天気、過去データ、時限）を基に、SFCまでの所要時間、遅刻危険度、そしてユーザーへのコメントを生成する関数を用意する
    - この関数は、予測結果を `{ "predictedTime": "9:55", "risk": "危", "comment": "本日は雨で混雑が予想されます。急いだほうが良いでしょう。" }` のような**JSON形式**で返してください。

---

④main.jsに結果を返す【担当：未定】

**`processcontrol.js`がすること:**

- ③でGPTから受け取った予測結果を `main.js` に渡し、画面に表示させる。
